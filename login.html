<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ãƒ­ã‚°ã‚¤ãƒ³ | Yo-Yo Skill Analyzer</title>
<style>
  body{
    text-align:center; font-family:sans-serif; padding-top:80px;
    background:#f5f5f5; color:#333;
  }
  h1{ font-size:42px; margin-bottom:30px; }
  #login-btn{
    font-size:28px; padding:14px 36px;
    border-radius:8px; cursor:pointer; border:none;
    background:#4285F4; color:white;
  }
  #login-btn:hover{ background:#2f6ae1; }
  p{ font-size:20px; }
</style>
</head>

<body>
<h1>Googleã§ãƒ­ã‚°ã‚¤ãƒ³</h1>
<p>å±¥æ­´ä¿å­˜ãƒ»é–²è¦§ãƒ»åˆ†ææ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„</p><br>

<button id="login-btn" onclick="loginWithGoogle()">Sign in with Google</button>

<!-- ğŸ”¥ Firebase SDKï¼ˆv12 æœ€æ–° CDNï¼‰ -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged }
    from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

  // ======== ã‚ãªãŸã®Firebaseè¨­å®š ğŸ”¥ ========
  const firebaseConfig = {
    apiKey: "AIzaSyCIoMI9P-shqBz6RF38L_V9PG3bl5J7Pbc",
    authDomain: "yoyo-sensing.firebaseapp.com",
    projectId: "yoyo-sensing",
    storageBucket: "yoyo-sensing.firebasestorage.app",
    messagingSenderId: "129908163482",
    appId: "1:129908163482:web:8cb1c024e25b2c9a96f023",
    measurementId: "G-H44GHQM64S"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // === Googleãƒ­ã‚°ã‚¤ãƒ³ ===
  window.loginWithGoogle = async function(){
    const provider = new GoogleAuthProvider();
    try{
      const result = await signInWithPopup(auth, provider);
      console.log("ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ:", result.user.email);
      location.href = "index.html"; // â†’ ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ãƒˆãƒƒãƒ—ã¸
    }catch(e){
      alert("ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—: " + e.message);
      console.error(e);
    }
  };

  // === æ—¢ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãŸã‚‰ã‚¹ã‚­ãƒƒãƒ— ===
  onAuthStateChanged(auth, user=>{
    if(user) location.href="index.html";
  });
</script>

</body>
</html>
